<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar - Arcade Planner</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
<button id="settings-toggle" title="SetÄƒri temÄƒ">
    âš™ï¸
</button>

<div id="settings-popup">
    <button id="close-popup">âœ•</button>
    
    <div id="settings-bar">
        <h3>Modificare TemÄƒ</h3>
        <label for="theme-switch">SelecteazÄƒ Tema:</label>
        <select id="theme-switch">
            <option value="dark">Negru (Implicit)</option>
            <option value="light">Alb</option>
        </select>
    </div>
</div>

Â  <h1>ğŸ—“ï¸ Calendar Taskuri Arcade</h1>

Â  <div class="container">
Â  Â  <p>Aici poÈ›i vedea toate taskurile ordonate dupÄƒ deadline:</p>
Â  Â  <div id="calendar-view"></div>
Â  </div>

Â  <script src="arcade-todo.js"></script>

<script>
// ReferinÈ›e la elementele DOM
const themeSwitch = document.getElementById('theme-switch');
const settingsToggle = document.getElementById('settings-toggle');
const settingsPopup = document.getElementById('settings-popup');
const closePopup = document.getElementById('close-popup');

// FuncÈ›ie pentru aplicarea temei È™i salvarea ei
function applyTheme(theme) {
    document.body.classList.toggle('light', theme === 'light');
    localStorage.setItem('siteTheme', theme);
}

// 1. ÃNCARCÄ‚ TEMA LA STARTUP
document.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('siteTheme') || 'dark';
    applyTheme(savedTheme);
    
    // SeteazÄƒ valoarea selectului, dacÄƒ elementul themeSwitch existÄƒ.
    if (themeSwitch) {
        themeSwitch.value = savedTheme; 
    }
});

// 2. SCHIMBÄ‚ TEMA
if (themeSwitch) {
    themeSwitch.addEventListener('change', () => {
        const theme = themeSwitch.value;
        applyTheme(theme);
    });
}

// 3. LOGICA POP-UP
if (settingsToggle) {
    settingsToggle.addEventListener('click', () => {
        if (settingsPopup) {
            settingsPopup.classList.toggle('open');
        }
    });
}

if (closePopup) {
    closePopup.addEventListener('click', () => {
        if (settingsPopup) {
            settingsPopup.classList.remove('open');
        }
    });
}

// Ãnchide pop-up-ul cÃ¢nd se apasÄƒ tasta ESC
document.addEventListener('keydown', (event) => {
    if (event.key === 'Escape' && settingsPopup && settingsPopup.classList.contains('open')) {
        settingsPopup.classList.remove('open');
    }
});
</script>

</body>
</html>